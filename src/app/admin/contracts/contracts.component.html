<div class="container-fluid container-modified">
    <div class="col-12">
        <h3 class="mb-3 title">Crear Contrato</h3>
    </div>

    <div class="col-12">
        <form id="contract" #form_contracts="ngForm">

            <div class="form-group row">
                <label for=" " class="col-1 col-form-label">Contrato</label>
                <div class="col-2">
                    <select name="" id="" class="form-control input-modified" name="obr_nplano" #plano="ngModel" [(ngModel)]="contract" (change)="search()">

                        <option *ngFor="let ctr of list_contrac" value="{{ctr.idcontract}}">{{ctr.contract_name}}</option>

                    </select>

                </div>

                <label for=" " class="col-1 col-form-label">ID</label>
                <div class="col-2">
                    <input class="form-control input-modified" type="text" name="idcontract" #idcontract="ngModel" [(ngModel)]="contract_model.idcontract"
                        readonly>
                </div>
                <label for=" " class="col-1 col-form-label">Estado
                    <span style="color:brown;">*</span>
                </label>
                <div class="col-2">
                    <select name="" id="" class="form-control input-modified" name="estado" #estado="ngModel" [(ngModel)]="contract_model.estado"
                        required>

                        <option *ngFor="let state of state" value="{{state.idstate}}">{{state.state}}</option>

                    </select>
                    <span *ngIf="estado.errors?.required && estado.touched" class="error_message">el campo es requerido</span>
                </div>
            </div>
            <div class="form-group row">
                <label for=" " class="col-1 col-form-label">Nombre/Contrato
                    <span style="color:brown;">*</span>
                </label>
                <div class="col-2">
                    <input class="form-control input-modified provider" type="text" name="contract_name" #contract_name="ngModel" [(ngModel)]="contract_model.contract_name"
                        required>
                    <span *ngIf="contract_name.errors?.required && contract_name.touched" class="error_message">el campo es requerido</span>
                </div>
                <label for=" " class="col-1 col-form-label">Nit</label>
                <div class="col-2">
                    <input class="form-control input-modified" type="text" name="nit" #nit="ngModel" [(ngModel)]="contract_model.nit">
                </div>
            </div>
            <div class="form-group row">
                <label for=" " class="col-1 col-form-label">Director
                    <span style="color:brown;">*</span>
                </label>
                <div class="col-2">
                    <input class="form-control input-modified" type="text " name="director" #director="ngModel" [(ngModel)]="contract_model.director"
                        required>
                    <span *ngIf="director.errors?.required && director.touched" class="error_message">el campo es requerido</span>
                </div>
                <label class="col-1 col-form-label">Fecha Inicio
                    <span style="color:brown;">*</span>
                </label>
                <div class="col-2">
                    <input class="form-control input-modified" type="date" name="start_date" #start_date="ngModel" [(ngModel)]="contract_model.start_date"
                        required>
                    <span *ngIf="start_date.errors?.required && start_date.touched" class="error_message">el campo es requerido</span>
                </div>
                <label for=" " class="col-1 col-form-label">Fecha Final</label>
                <div class="col-2">
                    <input class="form-control input-modified" type="date" name="final_date" #final_date="ngModel" [(ngModel)]="contract_model.final_date">
                </div>
            </div>
            <div class="form-group row">
                <label for="" class="col-1 col-form-label">Observaciones</label>
                <div class="col-8">
                    <textarea class="form-control textarea-modified" name="observaciones" #observaciones="ngModel" [(ngModel)]="contract_model.observaciones"></textarea>
                </div>
            </div>

        </form>

        <button class="btn btn_primary btn-sm mr-3 my-3" [disabled]="!form_contracts.valid || btn_insert" data-toggle="modal" data-target="#insert_contract">Crear Contrato</button>
        <button class="btn btn_primary btn-sm mr-3 my-3" [disabled]="btn_update" data-toggle="modal" data-target="#update_contract">Atualizar Contrato</button>
    </div>
</div>


<!--MODAL DE CONFIMACION-->
<div class="modal fade" id="insert_contract" tabindex="-1" role="dialog" aria-labelledby="insert_contract" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Guardar Contrato</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row">
                        <p class="text-center text-muted p-3">Esta seguro que desea Crear El Contrato ?</p>
                    </div>
                </form>
            </div>
            <div class=" modal-footer">
                <button type="button" class="btn btn_danger btn-sm" data-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn_success btn-sm" (click)="Onsave()" data-dismiss="modal">Guardar</button>
            </div>
        </div>
    </div>
</div>

<!--MODAL DE CONFIMACION-->
<div class="modal fade" id="update_contract" tabindex="-1" role="dialog" aria-labelledby="update_contract" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Atualizar Contrato</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row">
                        <p class="text-center text-muted p-3">Esta seguro que desea Atualizar El Contrato ?</p>
                    </div>
                </form>
            </div>
            <div class=" modal-footer">
                <button type="button" class="btn btn_danger btn-sm" data-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn_success btn-sm" (click)="update()" data-dismiss="modal">Guardar</button>
            </div>
        </div>
    </div>
</div>