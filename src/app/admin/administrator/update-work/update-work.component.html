<div class="container-fluid container-modified ">
    <div class="col-12"><h3 class="mb-3 title">Actualizar obra</h3></div>
    <br />


    <div class="row">
            <div class="col-sm-6 p-auto tres">
              <div class="form-group row">

                <button
                  type="button"
                  class="btn btn-sm btn_success mr-2"
                  (click)="search()"
                >
                  <i class="fa fa-search"></i> 
                </button>
                <input type="text" [(ngModel)]="updateworkmodel.bconsecutive"
                style="height:26px; width:50%;">
              </div>
            </div>
          </div>

          <div class="table-min-heigth">
                <table class="table table-striped table-bordered table-hover" id="table_informe">
                    <thead>
                        <tr>
                            <th width="1%">Id</th>
                            <th width="5%">Consecutivo</th>
                            <th width="5%">Pedido</th>

                            <th width="5%">Municipios</th>
                            <th width="5%">Codigo de instalación</th>
                            <th width="5%">Tipo de obra</th>
                            <th width="1%">Editar</th>
                            <th width="1%">OT</th>
                            <th width="1%">Eliminar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let row of rows; index as i">
                            <td>{{ i + 1 }}</td>

                            <td><input type="text" name="" [(ngModel)]="row.consecutive"></td>
                            <td><input type="text" name="" [(ngModel)]="row.Pedido"     ></td>

                            <td><select  class="form-control input-modified" name="municipio" [(ngModel)]="row.Municipio" #Municipio="ngModel">
                                <option *ngFor="let row of rowsM" value="{{row.id_dane }}">{{ row.name_municipality }}</option>
                               </select></td>
                            <td><input type="text" name="" [(ngModel)]="row.Instalacion"></td>
                            <td><select  class="form-control input-modified" name="" [(ngModel)]="row.worki_type_obr" #worki_type_obr="ngModel">
                                <option *ngFor="let row of rowstype" value="{{row.idtipos_obr_internas }}">{{ row.tipos_obr_internas_name }}</option>
                               </select></td>
                            <td>
                                    <button type="button" class="btn btn-sm btn_primary m-2"
                                    data-toggle="modal" data-target="#sincronizacion"
                                    (click)="btn_update(i, row)" value="{{row.id_line}}">
                                            <i class="fa fa-sync"></i> 
                                          </button>
                          
                            </td>
                           
                            <td>
                                    <button type="button" class="btn btn-sm btn_primary m-2"
                                    data-toggle="modal" data-target="#sincronizacionb"
                                        (click)="searchot(i , row)"
                                     >
                                            <i class="fa fa-folder"></i> 
                                          </button>
                            </td>

                            <td>
                                    <button type="button" class="btn btn-sm btn_danger m-2"
                                    data-toggle="modal" data-target="#eliminacion"
                                        (click)="btn_delete(i, row)"
                                     >
                                            <i class="fa fa-trash"></i> 
                                          </button>
                            </td>
                        </tr>
                                                          
                    </tbody>
                </table>

    </div>
    

    


    <!--MODAL DE CONFIMACION de sincroizacion -->
<div class="modal fade" id="sincronizacion" tabindex="-1" role="dialog" aria-labelledby="guardar_provider" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirmacion</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                    <form>
                            <div class="row">
                                <div class="ml-2">
                                <label for="">Ingrese contraseña:</label>
                                <input type="password" name="password" [(ngModel)]="password" style="height:22px">
                            </div>
                            </div>
                        </form>
            </div>
            <div class=" modal-footer">
                <button type="button" class="btn btn-success btn-sm" data-dismiss="modal"
                 (click)="update()">Actualizar</button>
                
            </div>
        </div>
    </div>
</div>

<!--MODAL DE CONFIMACION de sincroizacion -->
<div class="modal fade ss3" id="sincronizacionot" tabindex="-1" role="dialog" aria-labelledby="guardar_provider" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirmacion</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                    <form>
                            <div class="row">
                                <div class="ml-2">
                                <label for="">Ingrese contraseña:</label>
                                <input type="password" name="password" [(ngModel)]="password" style="height:22px">
                            </div>f
                            </div>
                        </form>
            </div>
            <div class=" modal-footer">
                <button type="button" class="btn btn-success btn-sm" data-dismiss="modal"
                 (click)="updateot()">Actualizar</button>
                
            </div>
        </div>
    </div>
</div>

    <!--MODAL DE CONFIMACION de sincroizacion -->
    <div class="modal fade ss4" id="sincronizacionb" tabindex="-1" role="dialog" aria-labelledby="guardar_provider" aria-hidden="true">
            <div class="modal-dialog modal-md" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Confirmacion</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">

                            <div class="table-min-heigth">
                                    <table class="table table-striped table-bordered table-hover" id="table_informe">
                                        <thead>
                                            <tr>
                                                <th width="1%">Id</th>
                                                <th width="5%">OT</th>
                                                <th width="5%">Subtipo</th>
                                                <th width="5%">Subestado</th>

                                                <th width="1%">Editar</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let row of rowsot; index as i">
                                                <td>{{ i + 1 }}</td>
                    
                                                <td>{{row.OT}}</td>
                                                <td><select  class="form-control input-modified" name="subtipo" [(ngModel)]="row.sub_tipo" #sub_tipo="ngModel">
                                                    <option *ngFor="let row of rowsSubtipos" value="{{row.idsubtipo_obr_internas }}">{{ row.subtipo_obr_internas_name }}</option>
                                                   </select></td>
                                                <td><select  class="form-control input-modified" name="" [(ngModel)]="row.sub_estado" #sub_estado="ngModel">
                                                    <option *ngFor="let row of rowsSubstados" value="{{row.idsub_state }}">{{ row.sub_state_name }}</option>
                                                   </select></td>
                                                <td>
                                                        <button type="button" class="btn btn-sm btn_primary m-2"
                                                        data-toggle="modal" data-target="#sincronizacionot"
                                                        (click)="btn_updateot(i, row)">
                                                                <i class="fa fa-sync"></i> 
                                                              </button>
                                              
                                                </td>
                                               
                                            </tr>
                                                                              
                                        </tbody>
                                    </table>
                        

                    </div>
                    <div class=" modal-footer">
                        <button type="button" class="btn btn-success btn-sm" data-dismiss="modal">Ok</button>
                        
                    </div>
                </div>
            </div>

<!--Modal para verificar eliminación-->
<div class="modal fade" id="eliminacion" tabindex="-1" role="dialog" aria-labelledby="guardar_provider" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirmacion Eliminacion</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row">
                        <div class="ml-2">
                        <label for="">Ingrese contraseña:</label>
                        <input type="password" name="password" [(ngModel)]="password" style="height:22px">
                    </div>
                    </div>
                </form>
            </div>
            <div class=" modal-footer">
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal"
                (click)="delete()">Eliminar</button>
                
            </div>
        </div>
    </div>
</div>
